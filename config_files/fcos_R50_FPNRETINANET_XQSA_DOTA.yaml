MODEL:
  META_ARCHITECTURE: "FSGeneralizedRCNN"
  WEIGHT: "catalog://ImageNetPretrained/MSRA/R-50"
  RPN_ONLY: True
  FCOS_ON: True
  BACKBONE:
    CONV_BODY: "R-50-FPN-RETINANET"
    FREEZE_CONV_BODY_AT: 2
  RESNETS:
    BACKBONE_OUT_CHANNELS: 256
  RETINANET:
    USE_C5: False # FCOS uses P5 instead of C5
  FCOS:
    IOU_LOSS_TYPE: "giou"
    LOSS_ALPHA: 0.25
    INFERENCE_TH: 0.1
    NUM_CLASSES: 17
DATASETS:
  TRAIN: ("dota_train",)
  TEST: ("dota_test",)
  VAL: ("dota_val",)
INPUT:
  MIN_SIZE_TRAIN: (512,)
  MAX_SIZE_TRAIN: 512
  MIN_SIZE_TEST: 512
  MAX_SIZE_TEST: 512
  PIXEL_MEAN: [102.9801, 115.9465, 122.7717]
  PIXEL_STD: [1.0, 1.0, 1.0]
  TO_BGR255: True
DATALOADER:
  SIZE_DIVISIBILITY: 32
  NUM_WORKERS: 0
SOLVER:
  BASE_LR: 0.001
  WEIGHT_DECAY: 0.0001
  STEPS: (150000, 2000000)
  MAX_ITER: 90000
  IMS_PER_BATCH: 8
  WARMUP_METHOD: "constant"
  CONTINUE_TRAINING: True # True
TEST:
  IMS_PER_BATCH: 8
  BBOX_AUG:
    ENABLED: False
    H_FLIP: True
    SCALES: (400, 500, 600, 700, 900, 1000, 1100, 1200)
    MAX_SIZE: 2000
    SCALE_H_FLIP: True
FEWSHOT:
  ENABLED: True
  N_WAYS_TRAIN: 3
  N_WAYS_TEST: 3
  N_CLASSES_TEST: 3
  N_QUERY_TRAIN: 100
  N_QUERY_TEST: 100
  SPLIT_METHOD: 'deterministic'
  K_SHOT: 1
  EPISODES: 1000
  SUPPORT_EXTRACTOR: 'same'
  SUPPORT:
    CROP_SIZE: (128,128)
    CROP_MODE: 'KEEP_SIZE'
    CROP_MARGIN: 0.5
  SAME_SUPPORT_IN_BATCH: True # do not put to False while FineTuning
  AAF:
    CFG: 'aaf_framework/config_files/aaf_module/xqsa.yaml'
RANDOM:
  DISABLED: False
FINETUNING: True
FINETUNE:
  EPISODES: 10000
  FREEZE_AT: 5
  LR: 0.0001
  EXAMPLES: 'rng_same' #Â 'random' / 'rng_same' / 'deterministic'
  SHOTS: [10]
  MIXED: True
  STEPS: (1000,)
LOGGING:
  INTERVAL: 150
  EVAL_INTERVAL: 1500
SOLVER:
  CHECKPOINT_PERIOD: 3000
OUTPUT_DIR: 'aaf_framework/output/Experiments_FSFCOS/DOTA/fcos_R50_FPNRETINANET_XQSA_DOTA'
VERSION: 2

